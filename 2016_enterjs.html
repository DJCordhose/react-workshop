<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>React Workshop</title>

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="reveal.js/css/reveal.css">
    <!--<link rel="stylesheet" href="reveal.js/css/theme/white.css" id="theme">-->
    <!--<link rel="stylesheet" href="reveal.js/css/theme/black.css" id="theme">-->
    <!--<link rel="stylesheet" href="reveal.js/css/theme/night.css" id="theme">-->
    <link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">


    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">
    <style>
        /*pre code {*/
            /*display: block;*/
            /*padding: 0.5em;*/
            /*background: #FFFFFF !important;*/
            /*color: #000000 !important;*/
        /*}*/

        .right-img {
            margin-left: 10px !important;
            float: right;
            height: 500px;
        }
    </style>

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
        <section>
            <h1>React Workshop</h1>
            <p>
                <small>Nils Hartmann / <a href="http://twitter.com/nilshartmann">@nilshartmann</a>
                </small>
            </p>
            <p>
                <small><a href="http://zeigermann.eu">Oliver Zeigermann</a> / <a href="http://twitter.com/djcordhose">@DJCordhose</a>
                </small>
            </p>
            <p><small><a href="http://bit.ly/1UgnAH4">http://bit.ly/1UgnAH4</a></small></p>

        </section>
                <section id="react">
                    <h2>React</h2>
                    <ul>
                        <li class="fragment">Framework für Facebook und viele andere
                        <li class="fragment">Komponenten kapseln Template und Logik
                        <li class="fragment">Abstraktion vom DOM: <em>f(model) -> UI</em>
                        <li class="fragment">Minimales API
                        <li class="fragment">Templates sind einfach JavaScript
                        <li class="fragment">Templates können HTML artige JSX-Syntax enthalten
                        <li class="fragment">Ein-Weg-Data-Binding: Zustandsänderungen stellen Komponente neu dar
                        <li class="fragment">Kann im Browser und auf dem Server rendern
                        <!--<li class="fragment">wird für komplette Anwendung typischerweise mit React Router und einem Flux-Framework gekoppelt-->
                        <!--<li class="fragment">viel Inspiration aus der funktionalen Ecke (Immutable, pure functions, stateless)-->
                    </ul>
                </section>

                <section>
                    <h3>Hello World React</h3>
<pre><code data-trim contenteditable>class HelloMessage extends React.Component {
  render() {
    return (&lt;div>
            &lt;input ref={input => this.input = input}
                   onChange={event => this.updateModel(event)}
                   value={this.state.greeting} />
            &lt;p>{this.state.greeting}, World&lt;/p>
            &lt;button
                onClick={() => this.reset()}>
                Clear
            &lt;/button>
        &lt;/div>);
  }</code></pre>
<pre class="fragment"><code contenteditable class="javascript">  constructor(props) {
    this.state = {greeting: this.props.greeting};
  }
  updateModel(event) {
    this.setState({greeting: event.target.value});
  }
  reset() {
    this.setState({greeting: ""});
    this.input.focus();
  }
}</code></pre>
                </section>
                <section>
                    <h3>Aufruf</h3>
<pre><code data-trim contenteditable>
// index.html
&lt;body>
  <div id="mount"></div>
&lt;/body>
</code></pre>
<pre class="fragment"><code data-trim contenteditable class="javascript">
// main.js
import HelloMessage from './HelloMessage';

var mountNode = document.getElementById('mount');
ReactDOM.render(&lt;HelloMessage greeting="Hello"/>, mountNode);
</code></pre>
                    <a target="_blank" href="code/react/public/index.html">Run</a>
                </section>

    <section>
      <section>
          <h2>Übung: React Hello-World</h2>
          <h3>Mache die mit den Werkzeugen vertraut und schreibe deine erste React-Komponente</h3>
      </section>
      <section>
          <h3>Schritt #1: Tool-Chain starten</h3>
          <p>Nutze das workspace-Verzeichnis in diesem Repository</p>
          <p>Hier ist eine Tool-Chain mit Webpack und Babel vorbereitet</p>
          <ul>
              <li><code>cd workspace</code>
              <li>Evtl. dafür einen Proxy konfigurieren <a target="_blank" href="http://wil.boayue.com/blog/2013/06/14/using-npm-behind-a-proxy/">http://wil.boayue.com/blog/2013/06/14/using-npm-behind-a-proxy/</a></li>
              <li><code>npm install</code>
              <li><code>npm run webpack</code>
              <li><code>public/index.html</code> im Browser öffnen
              <li>Wenn auf der Seite 'Hello, World' steht, ist alles gut
          </ul>
      </section>
      <section>
          <h3>Schritt #2: Deine erste React-Komponente</h3>
          <ul>
              <li>Ersetze die statische Seite mit der React-Komponente aus dem vorherigen Beispiel
              <li>Importiere <em>react</em> und <em>react-dom</em>
          </ul>
      </section>
    </section>

        <section>
            <h3>JavaScript vs ECMAScript 6 vs ES6 vs ECMAScript 2015</h3>
            <ul>
                <li class="fragment">ECMAScript ist der Standard und JavaScript ist die Implementierung
                <li class="fragment">Ab IE9 sind wir bei ECMAScript 5 (2009)
                <li class="fragment">ECMAScript 2015 ist der offizielle, neue Name für ECMAScript 6
                <li class="fragment">ES6 ist der kurze Name für ECMAScript 6
                <li class="fragment">ES 2015 ist die Abkürzung für ECMAScript 2015
                <li class="fragment">ES7 wird nur 2 Details enthalten (Exp-Operator und Array.includes)
                <li class="fragment">An der Spec für ES8 wird bereits gearbeitet
            </ul>
        </section>
    <section>
        <h3>Neue Spracheigenschaften</h3>
            <h4 class="fragment"><em>keine</em> statischen Typen</h4>

            <ul>
            <li class="fragment">Module
            <li class="fragment">Klassen
            <li class="fragment">Destructuring (Pattern Matching)
            <li class="fragment">let, const
            <li class="fragment">Fat arrow <b>=></b> für besseres Binding von <b>this</b>
            <li class="fragment">vararg, optional, spread operator
            <li class="fragment">Collection Types (Map, Set, WeakMap, WeakSet)
        </ul>
    </section>
        <section>
            <h3>Gesprengte Klippe #1: Lexikalisches Scoping</h3>
            <pre><code class="javascript" contenteditable>{
  // no hoisting
  console.log(a);
  // => ReferenceError: a is not defined
  let a = 10;
  // or
  const a = 10;
  a = 20;
  // => TypeError: Assignment to constant variable.
}
console.log(a);
// => ReferenceError: a is not defined</code></pre>
        </section>
        <section>
            <h3>Gesprengte Klippe #2: Klassen</h3>
                <pre class="fragment"><code class="javascript" contenteditable>class Person {
    constructor(name) {
        this._name = name;
    }
    get name() {
        return this._name;
    }
}
class Programmer extends Person {
    constructor(name, language) {
        super(name);
        this.language = language;
    }
    code() {
        return this.name + " codes in " + this.language;
    }
}</code></pre>
   <pre><code class="javascript" contenteditable>const programmer = new Programmer('Erna', 'JavaScript');
console.log(programmer.code());
console.log(programmer instanceof Programmer); // true
console.log(programmer instanceof Person); // true</code></pre>
         </section>
                    <section>
                        <h2>Module, Importe und Exporte</h2>
                    </section>
                    <section>
                        <h3>Export einer einzigen Klasse</h3>
   <pre><code class="javascript" contenteditable>// Person.js
class Person {
  // ...
}
export default Person;
   </code></pre>
                    </section>
                    <section>
                        <h3>Import</h3>
   <pre><code class="javascript" contenteditable>// Programmer.js
import Person from './Person';

export default class Programmer extends Person {
  // ...
}
   </code></pre>
                    </section>
                    <section>
                        <h3>Benannte Exporte</h3>
   <pre><code class="javascript" contenteditable data-trim>// util.js
export function displayInPage(text) {
    document.body.innerHTML +=
        `${text}<br>` ;
}
// or
export { displayInPage };
   </code></pre>
   <pre class="fragment"><code class="javascript" contenteditable data-trim>import {displayInPage} from "./util";
displayInPage('Hello, World');
   </code></pre>
   <pre class="fragment"><code class="javascript" contenteditable data-trim>import {displayInPage as display} from "./util";
display('Hello, World');
   </code></pre>
   <pre class="fragment"><code class="javascript" contenteditable data-trim>import * as util from "./util";
util.displayInPage('Hello, World');
   </code></pre>
                    </section>

                    <section>
                        <h2>Neuerungen und Verbesserungen</h2>
                    </section>
                    <section>
                        <h3>Template Literals</h3>
          <p><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings">
         String-Literale mit Lücken
    </a>
    </p>

   <pre><code class="javascript" contenteditable>const person = 'Oma';
const language = 'Haskell';

console.log(`${person} programs
${10 * 1024 * 1024} lines of code
in ${language}.`);
// Output:
// Oma programs
// 10485760 lines of code
// in Haskell.
</code></pre>
                    </section>
                    <!--<section>-->
                      <!--<h3>Tagged Template Literals</h3>-->
          <!--<p><a target="_blank" href="http://exploringjs.com/es6/ch_template-literals.html#_tagged-templates">-->
         <!--Mini-DSLs: Template-Literals mit tag-->
    <!--</a>-->
    <!--</p>-->

   <!--<pre class="fragment"><code class="javascript" contenteditable>function tag(strings, ...values) {-->
  <!--console.log(strings);-->
  <!--//[ '', ' codes in ', '.' ]-->
  <!--console.log(values);-->
  <!--//[ 'Oma', 'Haskell' ]-->
  <!--return 'whatever you want';-->
<!--}-->
<!--</code></pre>-->

   <!--<pre><code class="javascript" contenteditable>const expanded = tag`${person} codes in ${language}.`;-->
<!--console.log(expanded);-->
<!--//whatever you want-->
<!--</code></pre>-->

                    <!--</section>-->


                    <section>
                        <h3>Destructuring von Objekten</h3>
   <pre><code class="javascript" contenteditable>const person = {
  name: 'Olli',
  address: {
    city: 'Hamburg'
  },
  email: 'oliver.zeigermann@gmail.com'
};</code></pre>
   <pre class="fragment"><code class="javascript" contenteditable>const {name, email: contact} = person;
console.log(`name=${name}`);
// name=Olli
console.log(`contact=${contact}`);
// contact=oliver.zeigermann@gmail.com
</code></pre>
   <pre class="fragment"><code class="javascript" contenteditable>const {address: {city}} = person;
console.log(`city=${city}`);
//city=Hamburg
</code></pre>
                    </section>
                    <section>
                        <h3>Destructuring bei Parametern</h3>
   <pre><code class="javascript" contenteditable>const person = {
  name: 'Olli',
  address: {
    city: 'Hamburg'
  },
  email: 'oliver.zeigermann@gmail.com'
};</code></pre>
   <pre class="fragment"><code class="javascript" contenteditable data-trim>
function print({email: contact}) {
    console.log(`contact=${contact}`);
}
print(person);
// contact=oliver.zeigermann@gmail.com
</code></pre>
   <pre class="fragment"><code class="javascript" contenteditable data-trim>
function g({name: x, y, z=10}) {
  console.log(`x=${x}`); // x=olli
  console.log(`y=${y}`); // y=undefined
  console.log(`z=${z}`); // z=10
}
g({ name: 'olli' });
</code></pre>
                    </section>
                    <section>
                        <h3>Destructuring bei Arrays</h3>
   <pre><code class="javascript" contenteditable>const [a, b] = [1, 2];
console.log(`a=${a}`);
// a=1
console.log(`b=${b}`);
// b=2
</code></pre>
   <pre class="fragment"><code class="javascript" contenteditable data-trim>
const [, b] = [1, 2];
console.log(`b=${b}`);
//b=2
</code></pre>
                    </section>
                    <section>
                        <h3>Erweiterte Objekt-Literale</h3>
   <pre><code class="javascript" contenteditable>const name = 'Oma';
const person = {
    // ES5: name: name
    name,
    // ES5: toString: function()
    toString() {
        return this.name;
    }
};
console.log(person.name); // Oma
console.log(person.toString()); // Oma
   </code></pre>
                    </section>
                    <!--<section>-->
                        <!--<h3>for..of</h3>-->
          <!--<p><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of">-->
         <!--Iterieren über alles was 'iterable' ist-->
    <!--</a>-->
    <!--</p>-->

   <!--<pre><code class="javascript" contenteditable>for (const e of array2) {-->
    <!--console.log(e);-->
<!--}-->
<!--// Hi-->
<!--// Olli-->
<!--// how are you-->
<!--// ?-->
<!--</code></pre>-->
                    <!--</section>-->

    <section>
                        <h3>Spread-Operator</h3>
          <p><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator">
          Alles was 'iterable' ist kann in einzelne Parameter transformiert werden
    </a>
    </p>
   <pre><code class="javascript" contenteditable>const array1 = ['Olli', 'how are you'];
const array2 = ['Hi', ...array1, '?'];
console.log(array2);
// => ["Hi", "Olli", "how are you", "?"]
</code></pre>
   <pre class="fragment"><code class="javascript" contenteditable>console.log(...array1);
</code></pre>
                    </section>

                <section>
                    <h2>Verbesserungen bei Funktionen</h2>
                </section>
            <section>
                <h3>Arrow Functions</h3>
<pre><code class="javascript" contenteditable>const displayInPage = (text) => {
   return document.body.innerHTML +=
       `${text}<br>`;
};</code></pre>
<pre class="fragment"><code class="javascript" contenteditable>const displayInPage = text => document.body.innerHTML += `${text}<br>`;
</code></pre>
            </section>
                <section>
                    <h3>Default Parameter</h3>
<pre><code class="javascript" contenteditable>const displayInPage = (text = '\n') =>
    console.log(text);</code></pre>
<pre class="fragment"><code class="javascript" contenteditable>displayInPage();
</code></pre>
                </section>
                <section>
                    <h3>Rest-Parameters</h3>
<pre><code class="javascript" contenteditable>const displayInPage = (...texts) =>
    texts.forEach(text => console.log(text));
</code></pre>
<pre class="fragment"><code class="javascript" contenteditable>displayInPage('Hi', 'Folks');
// Hi
// Folks
</code></pre>
                </section>

                <section>
                    <h3>Lexcial Binding to this</h3>
<pre><code class="javascript" contenteditable>
const obj = {
    methodOfObj: function () {
      console.log(`In Method: ${obj === this}`); // true
        ['1', '2', '3'].forEach( e => {
           console.log(`In Loop: ${obj === this}`); // true
        });
    }
};

obj.methodOfObj();
</code></pre>
            </section>
        <section>
            <h2>Promises</h2>
        </section>
                <section>
                        <h3>fetch</h3>
<pre><code class="javascript" contenteditable>const url = `${BACKEND_URL}${path}`;

return fetch(url)
    .then(response => response.json())
    .then(json => /* ... */)
    .catch(ex => console.error('request failed', ex));
</code></pre>
                </section>
                    <section>
                        <h3>Ein Promise ist ein Versprechen auf einen Wert</h3>
                        <h4 class="fragment">Wird evtl. erst in der Zukunft eingelöst</h4>
                    </section>

                <section>
                        <h3>Erzeugen und asynchron reagieren</h3>
   <pre class="fragment"><code class="javascript" contenteditable>const promise = new Promise(resolve =>
    setTimeout(
        () => resolve('Result from promise'),
        1000)
);
</code></pre>
    <pre><code class="javascript" contenteditable>promise1.then(value => console.log(value));
// Output after 1 second: Result from promise
</code></pre>
                    </section>
                    <section>
                        <h3>Verkettete Ausführung</h3>
   <pre><code class="javascript" contenteditable>const promise = new Promise(resolve =>
    setTimeout(
        () => resolve('Result from promise'),
        1000)
);
</code></pre>
    <pre class="fragment"><code class="javascript" contenteditable>// then returns a new promise
const promise2 = promise.then(value => `${value} plus stuff`);</code></pre>
    <pre class="fragment"><code class="javascript" contenteditable>promise2.then(value => console.log(value));
// Output after 1 second: Result from promise plus stuff
</code></pre>
                    </section>
            <section>
                <h3>Fehler führen zum Abbruch der Chain</h3>
                <h4 class="fragment">Allerdings muss man etwas tun, um das mitzubekommen</h4>
            </section>

                    <section>
                        <h3>Catch-Klausel</h3>
   <pre><code class="javascript" contenteditable>Promise
    // creates and directly resolves promise
    .resolve('Result from promise')
    .then(x => {
        // this will be printed
        console.log(x);
    })
    .then(() => {
        console.log('This will be printed');
    })
    // this will NOT be printed as no error occured
    .catch(e => console.log('error: ', e))

// Output:
// Result from promise
// This will be printed</code></pre>
                    </section>
                    <section>
                        <h3>Catch-Klausel im Fehlerfall</h3>
   <pre><code class="javascript" contenteditable>Promise
    // creates and directly resolves promise
    .resolve('Result from promise')
    .then(x => {
        // this will be printed
        console.log(x);
        throw new Error('Something went wrong');
    })
    .then(() => {
        console.log('This will NOT be printed');
    })
    // this will be printed
    .catch(e => console.log('error: ', e))

// Output:
// Result from promise
// error:  [Error: Something went wrong]</code></pre>
                    </section>
                    <section>
                        <h3>Catch-Klausel bei Ablehnung</h3>
   <pre><code class="javascript" contenteditable>Promise
    // creates and directly rejects promise
    .reject('Promise rejected')
    .then(x => {
        // this will NOT be printed
        console.log(x);
    })
    .then(() => {
        console.log('This will NOT be printed');
    })
    // this will be printed
    .catch(e => console.log('error: ', e))

// Output:
// error:  Promise rejected</code></pre>
                </section>

    </div>

</div>

<script src="reveal.js/lib/js/head.min.js"></script>
<script src="reveal.js/js/reveal.js"></script>

<script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'reveal.js/lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'reveal.js/plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'reveal.js/plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'reveal.js/plugin/highlight/highlight.js', async: true, condition: function () {
                return !!document.querySelector('pre code');
            }, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'reveal.js/plugin/zoom-js/zoom.js', async: true},
            {src: 'reveal.js/plugin/notes/notes.js', async: true}
        ]
    });

</script>

</body>
</html>
